<template>
  <lightning-card title="Assess and Populate Session Objectives">
     <div class="page-section page-right"></div>
     <input size="50" type="search"
        placeholder="Filter Prog, Obj, SD or Status (NEW!)" oninput={handleSearchKeyInput} /></div>
     <div class="c-container">
        <lightning-layout multiple-rows="true">
           <lightning-layout-item padding="around-small" size="12">
              <lightning-layout>
                 <lightning-layout-item padding="around-small" size="6">
                    <div class="slds-text-heading_medium">Assessment</div>
                    <br />
                    <lightning-button label="+C" onclick={handleIncrCorrect}></lightning-button>
                    <lightning-button label="+I" onclick={handleIncrIncorrect}></lightning-button>
                    <lightning-button label="+P" onclick={handleIncrPrompted}></lightning-button>
                    <lightning-button label="Reset" onclick={resetCounters}></lightning-button>
                    <br /><br />
                    <div class="slds-text-color_success slds-text-heading_small">{thisrow}</div>
                    <div class="slds-text-color_success slds-text-heading_medium">
                       <template for:each={results} for:item="result">
                          <nobr key={result}>{result}&nbsp;</nobr>
                       </template>
                    </div>
                    <lightning-button-group>
                       <lightning-button label="Record Assessment" disabled={buttonDisabled}
                          title="Create Session Objective Assessment" onclick={handleClickArray}>
                       </lightning-button>
                       <lightning-button label="Close" title="Canceld" onclick={handleClickCancel}> </lightning-button>
                    </lightning-button-group>
                 </lightning-layout-item>
                 <lightning-layout-item padding="around-small" size="6">
                    <div class="page-section page-right">
                       <div class="slds-text-heading_medium">Session history</div>
                       <br />
                       <div class="slds-text-heading_small">
                          <template for:each={sessionresults} for:item="sessionresult">
                             <p key={sessionresult}>{sessionresult}&nbsp;</p>
                          </template>
                       </div>
                    </div>
                 </lightning-layout-item>
              </lightning-layout>
           </lightning-layout-item>
           <lightning-layout-item padding="around-small" size="12">
              <lightning-datatable max-row-selection="1" enable-infinite-loading key-field="Id" data={objectives}
                 columns={columns} onrowselection={getSelectedName}></lightning-datatable>
           </lightning-layout-item>
           <lightning-layout-item flexibility="auto" padding="around-small" size="12">
              <div class="page-footer page-section">
                 <i>Select an objective from the list then press the +C, +I and +P buttons (multiple times if required) to
                 record your assessments. Press "Record Assessment" to confirm.</i>
              </div>
           </lightning-layout-item>
        </lightning-layout>
     </div>
  </lightning-card>
</template>



