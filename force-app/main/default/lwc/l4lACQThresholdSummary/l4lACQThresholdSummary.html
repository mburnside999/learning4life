<template>
  <lightning-card title="Threshold Analysis - Skills Acquired Over Time">
    <div class="c-container">
      <lightning-layout>
        <lightning-layout-item padding="around-small">
          <div
            class="custom-box slds-box slds-var-p-around_medium slds-text-align_center"
          >
            Threshold 1
            <lightning-combobox
              name="t1"
              label="Threshold-1 (Hrs)"
              value={t1val}
              options={t1options}
              onchange={handleT1Change}
              variant="label-hidden"
            ></lightning-combobox>
          </div>
        </lightning-layout-item>

        <lightning-layout-item padding="around-small">
          <div
            class="custom-box slds-box slds-var-p-around_medium slds-text-align_center"
          >
            Threshold 2
            <lightning-combobox
              name="t1"
              label="Threshold-2 (Hrs)"
              value={t2val}
              options={t2options}
              variant="label-hidden"
            ></lightning-combobox>
          </div>
        </lightning-layout-item>

        <lightning-layout-item padding="around-small">
          <div
            class="custom-box slds-box slds-var-p-around_medium slds-text-align_center"
          >
            Acquired Skills
            <div class="slds-text-color_default">
              {threshold1.acquiredTotal}
            </div>
          </div>
        </lightning-layout-item>
        <lightning-layout-item padding="around-small">
          <div
            class="custom-box slds-box slds-var-p-around_medium slds-text-align_center"
          >
            Actual Hrs.
            <div class="slds-text-color_default">
              {threshold1.actualHrsAtThreshold}
            </div>
          </div>
        </lightning-layout-item>
        <lightning-layout-item padding="around-small">
          <div
            class="custom-box slds-box slds-var-p-around_medium slds-text-align_center"
          >
            T1 Status
            <template if:true={reachedt1}>
              <div class="slds-text-color_success">Reached.</div></template
            >

            <template if:false={reachedt1}>
              <div class="slds-text-color_error">
                Not Reached Yet.
              </div></template
            >
          </div>
        </lightning-layout-item>

        <lightning-layout-item padding="around-small">
          <div
            class="custom-box slds-box slds-var-p-around_medium slds-text-align_center"
          >
            <template if:true={reachedt1}>
              T1 Date Achieved
              <div class="slds-text-color_success">{t1DateStr}</div></template
            >

            <template if:false={reachedt1}>
              Latest Session
              <div class="slds-text-color_error">{t1DateStr}</div></template
            >
          </div>
        </lightning-layout-item>

        <lightning-layout-item padding="around-small">
          <div
            class="custom-box slds-box slds-var-p-around_medium slds-text-align_center"
          >
            TimeSeries ID
            <div class="slds-text-color_default">{threshold1.runId}</div>
          </div>
        </lightning-layout-item>
        <lightning-layout-item padding="around-small">
          <div
            class="custom-box slds-box slds-var-p-around_medium slds-text-align_center"
          >
            TimeSeries Run Date
            <div class="slds-text-color_default">{threshold1.runDate}</div>
          </div>
        </lightning-layout-item>
      </lightning-layout>
    </div>
  </lightning-card>
  <lightning-layout>
    <lightning-layout-item padding="around-small">
      <lightning-card>
        <svg class="histo" lwc:dom="manual"></svg>
      </lightning-card>
    </lightning-layout-item>
    <lightning-layout-item>
      <lightning-card>
        <lightning-datatable
          hide-checkbox-column
          key-field="key"
          data={t1data}
          columns={columns}
        >
        </lightning-datatable>
      </lightning-card>
    </lightning-layout-item>
  </lightning-layout>
</template>
